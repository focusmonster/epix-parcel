import   "5f1aa35cd9203c88030fea79489bdc10:@babel/runtime/helpers/esm/extends";
import   "5f1aa35cd9203c88030fea79489bdc10:jss";
var $5f1aa35cd9203c88030fea79489bdc10$var$at = '@global';
var $5f1aa35cd9203c88030fea79489bdc10$var$atPrefix = '@global ';
var $5f1aa35cd9203c88030fea79489bdc10$var$GlobalContainerRule = /*#__PURE__*/ function() {
    function GlobalContainerRule(key, styles, options) {
        this.type = 'global';
        this.at = $5f1aa35cd9203c88030fea79489bdc10$var$at;
        this.isProcessed = false;
        this.key = key;
        this.options = options;
        this.rules = new $5f1aa35cd9203c88030fea79489bdc10$import$d20617c95de8a6c6$6c96d9dad74f691a($5f1aa35cd9203c88030fea79489bdc10$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        }, options, {
            parent: this
        }));
        for(var selector in styles)this.rules.add(selector, styles[selector]);
        this.rules.process();
    }
    /**
   * Get a rule.
   */ var _proto = GlobalContainerRule.prototype;
    _proto.getRule = function getRule(name) {
        return this.rules.get(name);
    };
    _proto.addRule = function addRule(name, style, options) {
        var rule = this.rules.add(name, style, options);
        if (rule) this.options.jss.plugins.onProcessRule(rule);
        return rule;
    };
    _proto.replaceRule = function replaceRule(name, style, options) {
        var newRule = this.rules.replace(name, style, options);
        if (newRule) this.options.jss.plugins.onProcessRule(newRule);
        return newRule;
    };
    _proto.indexOf = function indexOf(rule) {
        return this.rules.indexOf(rule);
    };
    _proto.toString = function toString(options) {
        return this.rules.toString(options);
    };
    return GlobalContainerRule;
}();
var $5f1aa35cd9203c88030fea79489bdc10$var$GlobalPrefixedRule = /*#__PURE__*/ function() {
    function GlobalPrefixedRule(key, style, options) {
        this.type = 'global';
        this.at = $5f1aa35cd9203c88030fea79489bdc10$var$at;
        this.isProcessed = false;
        this.key = key;
        this.options = options;
        var selector = key.substr($5f1aa35cd9203c88030fea79489bdc10$var$atPrefix.length);
        this.rule = options.jss.createRule(selector, style, $5f1aa35cd9203c88030fea79489bdc10$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        }, options, {
            parent: this
        }));
    }
    var _proto2 = GlobalPrefixedRule.prototype;
    _proto2.toString = function toString(options) {
        return this.rule ? this.rule.toString(options) : '';
    };
    return GlobalPrefixedRule;
}();
var $5f1aa35cd9203c88030fea79489bdc10$var$separatorRegExp = /\s*,\s*/g;
function $5f1aa35cd9203c88030fea79489bdc10$var$addScope(selector, scope) {
    var parts = selector.split($5f1aa35cd9203c88030fea79489bdc10$var$separatorRegExp);
    var scoped = '';
    for(var i = 0; i < parts.length; i++){
        scoped += scope + " " + parts[i].trim();
        if (parts[i + 1]) scoped += ', ';
    }
    return scoped;
}
function $5f1aa35cd9203c88030fea79489bdc10$var$handleNestedGlobalContainerRule(rule, sheet) {
    var options = rule.options, style = rule.style;
    var rules = style ? style[$5f1aa35cd9203c88030fea79489bdc10$var$at] : null;
    if (!rules) return;
    for(var name in rules)sheet.addRule(name, rules[name], $5f1aa35cd9203c88030fea79489bdc10$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
    }, options, {
        selector: $5f1aa35cd9203c88030fea79489bdc10$var$addScope(name, rule.selector)
    }));
    delete style[$5f1aa35cd9203c88030fea79489bdc10$var$at];
}
function $5f1aa35cd9203c88030fea79489bdc10$var$handlePrefixedGlobalRule(rule, sheet) {
    var options = rule.options, style = rule.style;
    for(var prop in style){
        if (prop[0] !== '@' || prop.substr(0, $5f1aa35cd9203c88030fea79489bdc10$var$at.length) !== $5f1aa35cd9203c88030fea79489bdc10$var$at) continue;
        var selector = $5f1aa35cd9203c88030fea79489bdc10$var$addScope(prop.substr($5f1aa35cd9203c88030fea79489bdc10$var$at.length), rule.selector);
        sheet.addRule(selector, style[prop], $5f1aa35cd9203c88030fea79489bdc10$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        }, options, {
            selector: selector
        }));
        delete style[prop];
    }
}
/**
 * Convert nested rules to separate, remove them from original styles.
 */ function $5f1aa35cd9203c88030fea79489bdc10$var$jssGlobal() {
    function onCreateRule(name, styles, options) {
        if (!name) return null;
        if (name === $5f1aa35cd9203c88030fea79489bdc10$var$at) return new $5f1aa35cd9203c88030fea79489bdc10$var$GlobalContainerRule(name, styles, options);
        if (name[0] === '@' && name.substr(0, $5f1aa35cd9203c88030fea79489bdc10$var$atPrefix.length) === $5f1aa35cd9203c88030fea79489bdc10$var$atPrefix) return new $5f1aa35cd9203c88030fea79489bdc10$var$GlobalPrefixedRule(name, styles, options);
        var parent = options.parent;
        if (parent) {
            if (parent.type === 'global' || parent.options.parent && parent.options.parent.type === 'global') options.scoped = false;
        }
        if (!options.selector && options.scoped === false) options.selector = name;
        return null;
    }
    function onProcessRule(rule, sheet) {
        if (rule.type !== 'style' || !sheet) return;
        $5f1aa35cd9203c88030fea79489bdc10$var$handleNestedGlobalContainerRule(rule, sheet);
        $5f1aa35cd9203c88030fea79489bdc10$var$handlePrefixedGlobalRule(rule, sheet);
    }
    return {
        onCreateRule: onCreateRule,
        onProcessRule: onProcessRule
    };
}
var $5f1aa35cd9203c88030fea79489bdc10$export$9099ad97b570f7c = $5f1aa35cd9203c88030fea79489bdc10$var$jssGlobal;
