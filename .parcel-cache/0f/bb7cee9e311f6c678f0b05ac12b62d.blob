import   "f9c3340ff5379b4836fa69cd537d51f7:@babel/runtime/helpers/esm/extends";
import   "f9c3340ff5379b4836fa69cd537d51f7:@babel/runtime/helpers/esm/objectWithoutProperties";
import   "f9c3340ff5379b4836fa69cd537d51f7:react";
import   "f9c3340ff5379b4836fa69cd537d51f7:react-is";
import   "f9c3340ff5379b4836fa69cd537d51f7:prop-types";
import   "f9c3340ff5379b4836fa69cd537d51f7:clsx";
import   "f9c3340ff5379b4836fa69cd537d51f7:@material-ui/utils";
import   "f9c3340ff5379b4836fa69cd537d51f7:../styles/withStyles";
import   "f9c3340ff5379b4836fa69cd537d51f7:../Popover";
import   "f9c3340ff5379b4836fa69cd537d51f7:../MenuList";
import   "f9c3340ff5379b4836fa69cd537d51f7:react-dom";
import   "f9c3340ff5379b4836fa69cd537d51f7:../utils/setRef";
import   "f9c3340ff5379b4836fa69cd537d51f7:../styles/useTheme";
import   "f9c3340ff5379b4836fa69cd537d51f7:../utils/deprecatedPropType";
var $f9c3340ff5379b4836fa69cd537d51f7$var$RTL_ORIGIN = {
    vertical: 'top',
    horizontal: 'right'
};
var $f9c3340ff5379b4836fa69cd537d51f7$var$LTR_ORIGIN = {
    vertical: 'top',
    horizontal: 'left'
};
var $f9c3340ff5379b4836fa69cd537d51f7$export$1155669653ed4fad = {
    /* Styles applied to the `Paper` component. */ paper: {
        // specZ: The maximum height of a simple menu should be one or more rows less than the view
        // height. This ensures a tapable area outside of the simple menu with which to dismiss
        // the menu.
        maxHeight: 'calc(100% - 96px)',
        // Add iOS momentum scrolling.
        WebkitOverflowScrolling: 'touch'
    },
    /* Styles applied to the `List` component via `MenuList`. */ list: {
        // We disable the focus ring for mouse, touch and keyboard users.
        outline: 0
    }
};
var $f9c3340ff5379b4836fa69cd537d51f7$var$Menu = /*#__PURE__*/ $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$ac92bb288368c37c(function Menu(props, ref) {
    var _props$autoFocus = props.autoFocus, autoFocus = _props$autoFocus === void 0 ? true : _props$autoFocus, children = props.children, classes = props.classes, _props$disableAutoFoc = props.disableAutoFocusItem, disableAutoFocusItem = _props$disableAutoFoc === void 0 ? false : _props$disableAutoFoc, _props$MenuListProps = props.MenuListProps, MenuListProps = _props$MenuListProps === void 0 ? {
    } : _props$MenuListProps, onClose = props.onClose, onEnteringProp = props.onEntering, open = props.open, _props$PaperProps = props.PaperProps, PaperProps = _props$PaperProps === void 0 ? {
    } : _props$PaperProps, PopoverClasses = props.PopoverClasses, _props$transitionDura = props.transitionDuration, transitionDuration = _props$transitionDura === void 0 ? 'auto' : _props$transitionDura, _props$TransitionProp = props.TransitionProps;
    _props$TransitionProp = _props$TransitionProp === void 0 ? {
    } : _props$TransitionProp;
    var onEntering = _props$TransitionProp.onEntering, TransitionProps = $f9c3340ff5379b4836fa69cd537d51f7$import$e114c77af6cc4d77$9099ad97b570f7c(_props$TransitionProp, [
        "onEntering"
    ]), _props$variant = props.variant, variant = _props$variant === void 0 ? 'selectedMenu' : _props$variant, other = $f9c3340ff5379b4836fa69cd537d51f7$import$e114c77af6cc4d77$9099ad97b570f7c(props, [
        "autoFocus",
        "children",
        "classes",
        "disableAutoFocusItem",
        "MenuListProps",
        "onClose",
        "onEntering",
        "open",
        "PaperProps",
        "PopoverClasses",
        "transitionDuration",
        "TransitionProps",
        "variant"
    ]);
    var theme = $f9c3340ff5379b4836fa69cd537d51f7$import$d08d112fbc8a4e1d$9099ad97b570f7c();
    var autoFocusItem = autoFocus && !disableAutoFocusItem && open;
    var menuListActionsRef = $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$575893c07881cfe8(null);
    var contentAnchorRef = $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$575893c07881cfe8(null);
    var getContentAnchorEl = function getContentAnchorEl1() {
        return contentAnchorRef.current;
    };
    var handleEntering = function handleEntering1(element, isAppearing) {
        if (menuListActionsRef.current) menuListActionsRef.current.adjustStyleForScrollbar(element, theme);
        if (onEnteringProp) onEnteringProp(element, isAppearing);
        if (onEntering) onEntering(element, isAppearing);
    };
    var handleListKeyDown = function handleListKeyDown1(event) {
        if (event.key === 'Tab') {
            event.preventDefault();
            if (onClose) onClose(event, 'tabKeyDown');
        }
    };
    /**
   * the index of the item should receive focus
   * in a `variant="selectedMenu"` it's the first `selected` item
   * otherwise it's the very first item.
   */ var activeItemIndex = -1; // since we inject focus related props into children we have to do a lookahead
    // to check if there is a `selected` item. We're looking for the last `selected`
    // item and use the first valid item as a fallback
    $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$4a1442b8e7333aeb.map(children, function(child, index) {
        if (!/*#__PURE__*/ $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$64e9a1defe72209(child)) return;
        if (!child.props.disabled) {
            if (variant !== "menu" && child.props.selected) activeItemIndex = index;
            else if (activeItemIndex === -1) activeItemIndex = index;
        }
    });
    var items = $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$4a1442b8e7333aeb.map(children, function(child, index) {
        if (index === activeItemIndex) return(/*#__PURE__*/ $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$228915fa085e29fe(child, {
            ref: function ref1(instance) {
                // #StrictMode ready
                contentAnchorRef.current = $f9c3340ff5379b4836fa69cd537d51f7$import$9c1aa63963514e3e$1817be7fffc127f2(instance);
                $f9c3340ff5379b4836fa69cd537d51f7$import$70528724bb2084e7$9099ad97b570f7c(child.ref, instance);
            }
        }));
        return child;
    });
    return(/*#__PURE__*/ $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$2f8418d37d4320b9($f9c3340ff5379b4836fa69cd537d51f7$import$6bb37748786c459c$9099ad97b570f7c, $f9c3340ff5379b4836fa69cd537d51f7$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        getContentAnchorEl: getContentAnchorEl,
        classes: PopoverClasses,
        onClose: onClose,
        TransitionProps: $f9c3340ff5379b4836fa69cd537d51f7$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
            onEntering: handleEntering
        }, TransitionProps),
        anchorOrigin: theme.direction === 'rtl' ? $f9c3340ff5379b4836fa69cd537d51f7$var$RTL_ORIGIN : $f9c3340ff5379b4836fa69cd537d51f7$var$LTR_ORIGIN,
        transformOrigin: theme.direction === 'rtl' ? $f9c3340ff5379b4836fa69cd537d51f7$var$RTL_ORIGIN : $f9c3340ff5379b4836fa69cd537d51f7$var$LTR_ORIGIN,
        PaperProps: $f9c3340ff5379b4836fa69cd537d51f7$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        }, PaperProps, {
            classes: $f9c3340ff5379b4836fa69cd537d51f7$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
            }, PaperProps.classes, {
                root: classes.paper
            })
        }),
        open: open,
        ref: ref,
        transitionDuration: transitionDuration
    }, other), /*#__PURE__*/ $f9c3340ff5379b4836fa69cd537d51f7$import$f02ba03fc070e88c$2f8418d37d4320b9($f9c3340ff5379b4836fa69cd537d51f7$import$3cdc6d2ae1bb53d9$9099ad97b570f7c, $f9c3340ff5379b4836fa69cd537d51f7$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        onKeyDown: handleListKeyDown,
        actions: menuListActionsRef,
        autoFocus: autoFocus && (activeItemIndex === -1 || disableAutoFocusItem),
        autoFocusItem: autoFocusItem,
        variant: variant
    }, MenuListProps, {
        className: $f9c3340ff5379b4836fa69cd537d51f7$import$3e54c96927a352a4$9099ad97b570f7c(classes.list, MenuListProps.className)
    }), items)));
});
var $f9c3340ff5379b4836fa69cd537d51f7$export$9099ad97b570f7c = $f9c3340ff5379b4836fa69cd537d51f7$import$abdf0c7fda13cc01$9099ad97b570f7c($f9c3340ff5379b4836fa69cd537d51f7$export$1155669653ed4fad, {
    name: 'MuiMenu'
})($f9c3340ff5379b4836fa69cd537d51f7$var$Menu);
