import   "86c55633deeffd1c2efefc6585c5adfa:@babel/runtime/helpers/esm/extends";
import   "86c55633deeffd1c2efefc6585c5adfa:@babel/runtime/helpers/esm/slicedToArray";
import   "86c55633deeffd1c2efefc6585c5adfa:@babel/runtime/helpers/esm/objectWithoutProperties";
import   "86c55633deeffd1c2efefc6585c5adfa:@babel/runtime/helpers/esm/typeof";
import   "86c55633deeffd1c2efefc6585c5adfa:@material-ui/utils";
import   "86c55633deeffd1c2efefc6585c5adfa:react";
import   "86c55633deeffd1c2efefc6585c5adfa:react-is";
import   "86c55633deeffd1c2efefc6585c5adfa:prop-types";
import   "86c55633deeffd1c2efefc6585c5adfa:clsx";
import   "86c55633deeffd1c2efefc6585c5adfa:../utils/ownerDocument";
import   "86c55633deeffd1c2efefc6585c5adfa:../utils/capitalize";
import   "86c55633deeffd1c2efefc6585c5adfa:@material-ui/utils";
import   "86c55633deeffd1c2efefc6585c5adfa:../Menu/Menu";
import   "86c55633deeffd1c2efefc6585c5adfa:../InputBase/utils";
import   "86c55633deeffd1c2efefc6585c5adfa:../utils/useForkRef";
import   "86c55633deeffd1c2efefc6585c5adfa:../utils/useControlled";
function $86c55633deeffd1c2efefc6585c5adfa$var$areEqualValues(a, b) {
    if ($86c55633deeffd1c2efefc6585c5adfa$import$a7922b5050e8afad$9099ad97b570f7c(b) === 'object' && b !== null) return a === b;
    return String(a) === String(b);
}
function $86c55633deeffd1c2efefc6585c5adfa$var$isEmpty(display) {
    return display == null || typeof display === 'string' && !display.trim();
}
/**
 * @ignore - internal component.
 */ var $86c55633deeffd1c2efefc6585c5adfa$var$SelectInput = /*#__PURE__*/ $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$ac92bb288368c37c(function SelectInput(props, ref) {
    var ariaLabel = props['aria-label'], autoFocus = props.autoFocus, autoWidth = props.autoWidth, children = props.children, classes = props.classes, className = props.className, defaultValue = props.defaultValue, disabled = props.disabled, displayEmpty = props.displayEmpty, IconComponent = props.IconComponent, inputRefProp = props.inputRef, labelId = props.labelId, _props$MenuProps = props.MenuProps, MenuProps = _props$MenuProps === void 0 ? {
    } : _props$MenuProps, multiple = props.multiple, name = props.name, onBlur = props.onBlur, onChange = props.onChange, onClose = props.onClose, onFocus = props.onFocus, onOpen = props.onOpen, openProp = props.open, readOnly = props.readOnly, renderValue = props.renderValue, _props$SelectDisplayP = props.SelectDisplayProps, SelectDisplayProps = _props$SelectDisplayP === void 0 ? {
    } : _props$SelectDisplayP, tabIndexProp = props.tabIndex, type = props.type, valueProp = props.value, _props$variant = props.variant, variant = _props$variant === void 0 ? 'standard' : _props$variant, other = $86c55633deeffd1c2efefc6585c5adfa$import$e114c77af6cc4d77$9099ad97b570f7c(props, [
        "aria-label",
        "autoFocus",
        "autoWidth",
        "children",
        "classes",
        "className",
        "defaultValue",
        "disabled",
        "displayEmpty",
        "IconComponent",
        "inputRef",
        "labelId",
        "MenuProps",
        "multiple",
        "name",
        "onBlur",
        "onChange",
        "onClose",
        "onFocus",
        "onOpen",
        "open",
        "readOnly",
        "renderValue",
        "SelectDisplayProps",
        "tabIndex",
        "type",
        "value",
        "variant"
    ]);
    var _useControlled = $86c55633deeffd1c2efefc6585c5adfa$import$ec153815d5f7d5c0$9099ad97b570f7c({
        controlled: valueProp,
        default: defaultValue,
        name: 'Select'
    }), _useControlled2 = $86c55633deeffd1c2efefc6585c5adfa$import$d595881c45598ae7$9099ad97b570f7c(_useControlled, 2), value = _useControlled2[0], setValue = _useControlled2[1];
    var inputRef = $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$575893c07881cfe8(null);
    var _React$useState = $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$f54936751fc2c51(null), displayNode = _React$useState[0], setDisplayNode = _React$useState[1];
    var _React$useRef = $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$575893c07881cfe8(openProp != null), isOpenControlled = _React$useRef.current;
    var _React$useState2 = $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$f54936751fc2c51(), menuMinWidthState = _React$useState2[0], setMenuMinWidthState = _React$useState2[1];
    var _React$useState3 = $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$f54936751fc2c51(false), openState = _React$useState3[0], setOpenState = _React$useState3[1];
    var handleRef = $86c55633deeffd1c2efefc6585c5adfa$import$f0ac2eb29a789ac2$9099ad97b570f7c(ref, inputRefProp);
    $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$718bc1f42abf35a1(handleRef, function() {
        return {
            focus: function focus() {
                displayNode.focus();
            },
            node: inputRef.current,
            value: value
        };
    }, [
        displayNode,
        value
    ]);
    $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$7e977b4ca969aabd(function() {
        if (autoFocus && displayNode) displayNode.focus();
    }, [
        autoFocus,
        displayNode
    ]);
    $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$7e977b4ca969aabd(function() {
        if (displayNode) {
            var label = $86c55633deeffd1c2efefc6585c5adfa$import$bc270da7a301e7e$9099ad97b570f7c(displayNode).getElementById(labelId);
            if (label) {
                var handler = function handler1() {
                    if (getSelection().isCollapsed) displayNode.focus();
                };
                label.addEventListener('click', handler);
                return function() {
                    label.removeEventListener('click', handler);
                };
            }
        }
        return undefined;
    }, [
        labelId,
        displayNode
    ]);
    var update = function update1(open, event) {
        if (open) {
            if (onOpen) onOpen(event);
        } else if (onClose) onClose(event);
        if (!isOpenControlled) {
            setMenuMinWidthState(autoWidth ? null : displayNode.clientWidth);
            setOpenState(open);
        }
    };
    var handleMouseDown = function handleMouseDown1(event) {
        // Ignore everything but left-click
        if (event.button !== 0) return;
         // Hijack the default focus behavior.
        event.preventDefault();
        displayNode.focus();
        update(true, event);
    };
    var handleClose = function handleClose1(event) {
        update(false, event);
    };
    var childrenArray = $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$4a1442b8e7333aeb.toArray(children); // Support autofill.
    var handleChange = function handleChange1(event) {
        var index = childrenArray.map(function(child) {
            return child.props.value;
        }).indexOf(event.target.value);
        if (index === -1) return;
        var child = childrenArray[index];
        setValue(child.props.value);
        if (onChange) onChange(event, child);
    };
    var handleItemClick = function handleItemClick1(child) {
        return function(event) {
            if (!multiple) update(false, event);
            var newValue;
            if (multiple) {
                newValue = Array.isArray(value) ? value.slice() : [];
                var itemIndex = value.indexOf(child.props.value);
                if (itemIndex === -1) newValue.push(child.props.value);
                else newValue.splice(itemIndex, 1);
            } else newValue = child.props.value;
            if (child.props.onClick) child.props.onClick(event);
            if (value === newValue) return;
            setValue(newValue);
            if (onChange) {
                event.persist(); // Preact support, target is read only property on a native event.
                Object.defineProperty(event, 'target', {
                    writable: true,
                    value: {
                        value: newValue,
                        name: name
                    }
                });
                onChange(event, child);
            }
        };
    };
    var handleKeyDown = function handleKeyDown1(event) {
        if (!readOnly) {
            var validKeys = [
                ' ',
                'ArrowUp',
                'ArrowDown',
                // https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html
                'Enter'
            ];
            if (validKeys.indexOf(event.key) !== -1) {
                event.preventDefault();
                update(true, event);
            }
        }
    };
    var open = displayNode !== null && (isOpenControlled ? openProp : openState);
    var handleBlur = function handleBlur1(event) {
        // if open event.stopImmediatePropagation
        if (!open && onBlur) {
            event.persist(); // Preact support, target is read only property on a native event.
            Object.defineProperty(event, 'target', {
                writable: true,
                value: {
                    value: value,
                    name: name
                }
            });
            onBlur(event);
        }
    };
    delete other['aria-invalid'];
    var display;
    var displaySingle;
    var displayMultiple = [];
    var computeDisplay = false;
    var foundMatch = false; // No need to display any value if the field is empty.
    if ($86c55633deeffd1c2efefc6585c5adfa$import$740d6493e91c64a1$3a41dc00de3cc907({
        value: value
    }) || displayEmpty) {
        if (renderValue) display = renderValue(value);
        else computeDisplay = true;
    }
    var items = childrenArray.map(function(child) {
        if (!/*#__PURE__*/ $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$64e9a1defe72209(child)) return null;
        var selected;
        if (multiple) {
            if (!Array.isArray(value)) throw new Error($86c55633deeffd1c2efefc6585c5adfa$import$4ddfa5b020de25c6$8144764b12c0d2ad(2));
            selected = value.some(function(v) {
                return $86c55633deeffd1c2efefc6585c5adfa$var$areEqualValues(v, child.props.value);
            });
            if (selected && computeDisplay) displayMultiple.push(child.props.children);
        } else {
            selected = $86c55633deeffd1c2efefc6585c5adfa$var$areEqualValues(value, child.props.value);
            if (selected && computeDisplay) displaySingle = child.props.children;
        }
        if (selected) foundMatch = true;
        return(/*#__PURE__*/ $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$228915fa085e29fe(child, {
            'aria-selected': selected ? 'true' : undefined,
            onClick: handleItemClick(child),
            onKeyUp: function onKeyUp(event) {
                if (event.key === ' ') // otherwise our MenuItems dispatches a click event
                // it's not behavior of the native <option> and causes
                // the select to close immediately since we open on space keydown
                event.preventDefault();
                if (child.props.onKeyUp) child.props.onKeyUp(event);
            },
            role: 'option',
            selected: selected,
            value: undefined,
            // The value is most likely not a valid HTML attribute.
            'data-value': child.props.value
        }));
    });
    var values, child, x, x1;
    if (computeDisplay) display = multiple ? displayMultiple.join(', ') : displaySingle;
     // Avoid performing a layout computation in the render method.
    var menuMinWidth = menuMinWidthState;
    if (!autoWidth && isOpenControlled && displayNode) menuMinWidth = displayNode.clientWidth;
    var tabIndex;
    if (typeof tabIndexProp !== 'undefined') tabIndex = tabIndexProp;
    else tabIndex = disabled ? null : 0;
    var buttonId = SelectDisplayProps.id || (name ? "mui-component-select-".concat(name) : undefined);
    return(/*#__PURE__*/ $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$2f8418d37d4320b9($86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$44f93cb792444969, null, /*#__PURE__*/ $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$2f8418d37d4320b9("div", $86c55633deeffd1c2efefc6585c5adfa$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        className: $86c55633deeffd1c2efefc6585c5adfa$import$3e54c96927a352a4$9099ad97b570f7c(classes.root, classes.select, classes.selectMenu, classes[variant], className, disabled && classes.disabled),
        ref: setDisplayNode,
        tabIndex: tabIndex,
        role: "button",
        "aria-disabled": disabled ? 'true' : undefined,
        "aria-expanded": open ? 'true' : undefined,
        "aria-haspopup": "listbox",
        "aria-label": ariaLabel,
        "aria-labelledby": [
            labelId,
            buttonId
        ].filter(Boolean).join(' ') || undefined,
        onKeyDown: handleKeyDown,
        onMouseDown: disabled || readOnly ? null : handleMouseDown,
        onBlur: handleBlur,
        onFocus: onFocus
    }, SelectDisplayProps, {
        // The id is required for proper a11y
        id: buttonId
    }), $86c55633deeffd1c2efefc6585c5adfa$var$isEmpty(display) ? /*#__PURE__*/ // eslint-disable-next-line react/no-danger
    $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$2f8418d37d4320b9("span", {
        dangerouslySetInnerHTML: {
            __html: '&#8203;'
        }
    }) : display), /*#__PURE__*/ $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$2f8418d37d4320b9("input", $86c55633deeffd1c2efefc6585c5adfa$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        value: Array.isArray(value) ? value.join(',') : value,
        name: name,
        ref: inputRef,
        "aria-hidden": true,
        onChange: handleChange,
        tabIndex: -1,
        className: classes.nativeInput,
        autoFocus: autoFocus
    }, other)), /*#__PURE__*/ $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$2f8418d37d4320b9(IconComponent, {
        className: $86c55633deeffd1c2efefc6585c5adfa$import$3e54c96927a352a4$9099ad97b570f7c(classes.icon, classes["icon".concat($86c55633deeffd1c2efefc6585c5adfa$import$f35500a7ba1578c4$9099ad97b570f7c(variant))], open && classes.iconOpen, disabled && classes.disabled)
    }), /*#__PURE__*/ $86c55633deeffd1c2efefc6585c5adfa$import$f02ba03fc070e88c$2f8418d37d4320b9($86c55633deeffd1c2efefc6585c5adfa$import$f0b6ec993a355d93$9099ad97b570f7c, $86c55633deeffd1c2efefc6585c5adfa$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        id: "menu-".concat(name || ''),
        anchorEl: displayNode,
        open: open,
        onClose: handleClose
    }, MenuProps, {
        MenuListProps: $86c55633deeffd1c2efefc6585c5adfa$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
            'aria-labelledby': labelId,
            role: 'listbox',
            disableListWrap: true
        }, MenuProps.MenuListProps),
        PaperProps: $86c55633deeffd1c2efefc6585c5adfa$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        }, MenuProps.PaperProps, {
            style: $86c55633deeffd1c2efefc6585c5adfa$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
                minWidth: menuMinWidth
            }, MenuProps.PaperProps != null ? MenuProps.PaperProps.style : null)
        })
    }), items)));
});
var $86c55633deeffd1c2efefc6585c5adfa$export$9099ad97b570f7c = $86c55633deeffd1c2efefc6585c5adfa$var$SelectInput;
