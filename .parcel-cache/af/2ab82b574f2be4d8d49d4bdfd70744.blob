import   "904be18758d969917945ae6dc8c51bf2:@babel/runtime/helpers/esm/objectWithoutProperties";
import   "904be18758d969917945ae6dc8c51bf2:@babel/runtime/helpers/esm/extends";
import   "904be18758d969917945ae6dc8c51bf2:react";
import   "904be18758d969917945ae6dc8c51bf2:react-dom";
import   "904be18758d969917945ae6dc8c51bf2:prop-types";
import   "904be18758d969917945ae6dc8c51bf2:@material-ui/styles";
import   "904be18758d969917945ae6dc8c51bf2:@material-ui/utils";
import   "904be18758d969917945ae6dc8c51bf2:../utils/deprecatedPropType";
import   "904be18758d969917945ae6dc8c51bf2:../utils/ownerDocument";
import   "904be18758d969917945ae6dc8c51bf2:../Portal";
import   "904be18758d969917945ae6dc8c51bf2:../utils/createChainedFunction";
import   "904be18758d969917945ae6dc8c51bf2:../utils/useForkRef";
import   "904be18758d969917945ae6dc8c51bf2:../utils/useEventCallback";
import   "904be18758d969917945ae6dc8c51bf2:../styles/zIndex";
import   "904be18758d969917945ae6dc8c51bf2:./ModalManager";
import   "904be18758d969917945ae6dc8c51bf2:../Unstable_TrapFocus";
import   "904be18758d969917945ae6dc8c51bf2:./SimpleBackdrop";
function $904be18758d969917945ae6dc8c51bf2$var$getContainer(container) {
    container = typeof container === 'function' ? container() : container;
    return $904be18758d969917945ae6dc8c51bf2$import$9c1aa63963514e3e$1817be7fffc127f2(container);
}
function $904be18758d969917945ae6dc8c51bf2$var$getHasTransition(props) {
    return props.children ? props.children.props.hasOwnProperty('in') : false;
} // A modal manager used to track and manage the state of open Modals.
// Modals don't open on the server so this won't conflict with concurrent requests.
var $904be18758d969917945ae6dc8c51bf2$var$defaultManager = new $904be18758d969917945ae6dc8c51bf2$import$47e2059fe9c4d4cf$9099ad97b570f7c();
var $904be18758d969917945ae6dc8c51bf2$export$1155669653ed4fad = function styles(theme) {
    return {
        /* Styles applied to the root element. */ root: {
            position: 'fixed',
            zIndex: theme.zIndex.modal,
            right: 0,
            bottom: 0,
            top: 0,
            left: 0
        },
        /* Styles applied to the root element if the `Modal` has exited. */ hidden: {
            visibility: 'hidden'
        }
    };
};
/**
 * Modal is a lower-level construct that is leveraged by the following components:
 *
 * - [Dialog](/api/dialog/)
 * - [Drawer](/api/drawer/)
 * - [Menu](/api/menu/)
 * - [Popover](/api/popover/)
 *
 * If you are creating a modal dialog, you probably want to use the [Dialog](/api/dialog/) component
 * rather than directly using Modal.
 *
 * This component shares many concepts with [react-overlays](https://react-bootstrap.github.io/react-overlays/#modals).
 */ var $904be18758d969917945ae6dc8c51bf2$var$Modal = /*#__PURE__*/ $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$ac92bb288368c37c(function Modal(inProps, ref) {
    var theme = $904be18758d969917945ae6dc8c51bf2$import$c5d6394d37751b43$7917f75332968a34();
    var props = $904be18758d969917945ae6dc8c51bf2$import$c5d6394d37751b43$3921ac7c6261f66e({
        name: 'MuiModal',
        props: $904be18758d969917945ae6dc8c51bf2$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        }, inProps),
        theme: theme
    });
    var _props$BackdropCompon = props.BackdropComponent, BackdropComponent = _props$BackdropCompon === void 0 ? $904be18758d969917945ae6dc8c51bf2$import$d981ca08070d484a$9099ad97b570f7c : _props$BackdropCompon, BackdropProps = props.BackdropProps, children = props.children, _props$closeAfterTran = props.closeAfterTransition, closeAfterTransition = _props$closeAfterTran === void 0 ? false : _props$closeAfterTran, container = props.container, _props$disableAutoFoc = props.disableAutoFocus, disableAutoFocus = _props$disableAutoFoc === void 0 ? false : _props$disableAutoFoc, _props$disableBackdro = props.disableBackdropClick, disableBackdropClick = _props$disableBackdro === void 0 ? false : _props$disableBackdro, _props$disableEnforce = props.disableEnforceFocus, disableEnforceFocus = _props$disableEnforce === void 0 ? false : _props$disableEnforce, _props$disableEscapeK = props.disableEscapeKeyDown, disableEscapeKeyDown = _props$disableEscapeK === void 0 ? false : _props$disableEscapeK, _props$disablePortal = props.disablePortal, disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal, _props$disableRestore = props.disableRestoreFocus, disableRestoreFocus = _props$disableRestore === void 0 ? false : _props$disableRestore, _props$disableScrollL = props.disableScrollLock, disableScrollLock = _props$disableScrollL === void 0 ? false : _props$disableScrollL, _props$hideBackdrop = props.hideBackdrop, hideBackdrop = _props$hideBackdrop === void 0 ? false : _props$hideBackdrop, _props$keepMounted = props.keepMounted, keepMounted = _props$keepMounted === void 0 ? false : _props$keepMounted, _props$manager = props.manager, manager = _props$manager === void 0 ? $904be18758d969917945ae6dc8c51bf2$var$defaultManager : _props$manager, onBackdropClick = props.onBackdropClick, onClose = props.onClose, onEscapeKeyDown = props.onEscapeKeyDown, onRendered = props.onRendered, open = props.open, other = $904be18758d969917945ae6dc8c51bf2$import$e114c77af6cc4d77$9099ad97b570f7c(props, [
        "BackdropComponent",
        "BackdropProps",
        "children",
        "closeAfterTransition",
        "container",
        "disableAutoFocus",
        "disableBackdropClick",
        "disableEnforceFocus",
        "disableEscapeKeyDown",
        "disablePortal",
        "disableRestoreFocus",
        "disableScrollLock",
        "hideBackdrop",
        "keepMounted",
        "manager",
        "onBackdropClick",
        "onClose",
        "onEscapeKeyDown",
        "onRendered",
        "open"
    ]);
    var _React$useState = $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$f54936751fc2c51(true), exited = _React$useState[0], setExited = _React$useState[1];
    var modal = $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$575893c07881cfe8({
    });
    var mountNodeRef = $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$575893c07881cfe8(null);
    var modalRef = $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$575893c07881cfe8(null);
    var handleRef = $904be18758d969917945ae6dc8c51bf2$import$f0ac2eb29a789ac2$9099ad97b570f7c(modalRef, ref);
    var hasTransition = $904be18758d969917945ae6dc8c51bf2$var$getHasTransition(props);
    var getDoc = function getDoc1() {
        return $904be18758d969917945ae6dc8c51bf2$import$bc270da7a301e7e$9099ad97b570f7c(mountNodeRef.current);
    };
    var getModal = function getModal1() {
        modal.current.modalRef = modalRef.current;
        modal.current.mountNode = mountNodeRef.current;
        return modal.current;
    };
    var handleMounted = function handleMounted1() {
        manager.mount(getModal(), {
            disableScrollLock: disableScrollLock
        }); // Fix a bug on Chrome where the scroll isn't initially 0.
        modalRef.current.scrollTop = 0;
    };
    var handleOpen = $904be18758d969917945ae6dc8c51bf2$import$3575fe9de66b2ef3$9099ad97b570f7c(function() {
        var resolvedContainer = $904be18758d969917945ae6dc8c51bf2$var$getContainer(container) || getDoc().body;
        manager.add(getModal(), resolvedContainer); // The element was already mounted.
        if (modalRef.current) handleMounted();
    });
    var isTopModal = $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$e04575e0186a275b(function() {
        return manager.isTopModal(getModal());
    }, [
        manager
    ]);
    var handlePortalRef = $904be18758d969917945ae6dc8c51bf2$import$3575fe9de66b2ef3$9099ad97b570f7c(function(node) {
        mountNodeRef.current = node;
        if (!node) return;
        if (onRendered) onRendered();
        if (open && isTopModal()) handleMounted();
        else $904be18758d969917945ae6dc8c51bf2$import$47e2059fe9c4d4cf$15c75a17b4ef94e3(modalRef.current, true);
    });
    var handleClose = $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$e04575e0186a275b(function() {
        manager.remove(getModal());
    }, [
        manager
    ]);
    $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$7e977b4ca969aabd(function() {
        return function() {
            handleClose();
        };
    }, [
        handleClose
    ]);
    $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$7e977b4ca969aabd(function() {
        if (open) handleOpen();
        else if (!hasTransition || !closeAfterTransition) handleClose();
    }, [
        open,
        handleClose,
        hasTransition,
        closeAfterTransition,
        handleOpen
    ]);
    if (!keepMounted && !open && (!hasTransition || exited)) return null;
    var handleEnter = function handleEnter1() {
        setExited(false);
    };
    var handleExited = function handleExited1() {
        setExited(true);
        if (closeAfterTransition) handleClose();
    };
    var handleBackdropClick = function handleBackdropClick1(event) {
        if (event.target !== event.currentTarget) return;
        if (onBackdropClick) onBackdropClick(event);
        if (!disableBackdropClick && onClose) onClose(event, 'backdropClick');
    };
    var handleKeyDown = function handleKeyDown1(event) {
        // The handler doesn't take event.defaultPrevented into account:
        //
        // event.preventDefault() is meant to stop default behaviours like
        // clicking a checkbox to check it, hitting a button to submit a form,
        // and hitting left arrow to move the cursor in a text input etc.
        // Only special HTML elements have these default behaviors.
        if (event.key !== 'Escape' || !isTopModal()) return;
        if (onEscapeKeyDown) onEscapeKeyDown(event);
        if (!disableEscapeKeyDown) {
            // Swallow the event, in case someone is listening for the escape key on the body.
            event.stopPropagation();
            if (onClose) onClose(event, 'escapeKeyDown');
        }
    };
    var inlineStyle = $904be18758d969917945ae6dc8c51bf2$export$1155669653ed4fad(theme || {
        zIndex: $904be18758d969917945ae6dc8c51bf2$import$898e71e1f5ca6c36$9099ad97b570f7c
    });
    var childProps = {
    };
    if (children.props.tabIndex === undefined) childProps.tabIndex = children.props.tabIndex || '-1';
     // It's a Transition like component
    if (hasTransition) {
        childProps.onEnter = $904be18758d969917945ae6dc8c51bf2$import$4d0c183b9bc5b43b$9099ad97b570f7c(handleEnter, children.props.onEnter);
        childProps.onExited = $904be18758d969917945ae6dc8c51bf2$import$4d0c183b9bc5b43b$9099ad97b570f7c(handleExited, children.props.onExited);
    }
    return(/*#__PURE__*/ $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$2f8418d37d4320b9($904be18758d969917945ae6dc8c51bf2$import$49ac134aa16638c1$9099ad97b570f7c, {
        ref: handlePortalRef,
        container: container,
        disablePortal: disablePortal
    }, /*#__PURE__*/ $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$2f8418d37d4320b9("div", $904be18758d969917945ae6dc8c51bf2$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        ref: handleRef,
        onKeyDown: handleKeyDown,
        role: "presentation"
    }, other, {
        style: $904be18758d969917945ae6dc8c51bf2$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        }, inlineStyle.root, !open && exited ? inlineStyle.hidden : {
        }, other.style)
    }), hideBackdrop ? null : /*#__PURE__*/ $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$2f8418d37d4320b9(BackdropComponent, $904be18758d969917945ae6dc8c51bf2$import$b5eba6ed2ba96e9b$9099ad97b570f7c({
        open: open,
        onClick: handleBackdropClick
    }, BackdropProps)), /*#__PURE__*/ $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$2f8418d37d4320b9($904be18758d969917945ae6dc8c51bf2$import$397862ecaef43be8$9099ad97b570f7c, {
        disableEnforceFocus: disableEnforceFocus,
        disableAutoFocus: disableAutoFocus,
        disableRestoreFocus: disableRestoreFocus,
        getDoc: getDoc,
        isEnabled: isTopModal,
        open: open
    }, /*#__PURE__*/ $904be18758d969917945ae6dc8c51bf2$import$f02ba03fc070e88c$228915fa085e29fe(children, childProps)))));
});
var $904be18758d969917945ae6dc8c51bf2$export$9099ad97b570f7c = $904be18758d969917945ae6dc8c51bf2$var$Modal;
